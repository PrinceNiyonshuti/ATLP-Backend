{"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\index.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":16}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":68}},"5":{"start":{"line":14,"column":12},"end":{"line":14,"column":66}},"6":{"start":{"line":16,"column":15},"end":{"line":16,"column":72}},"7":{"start":{"line":18,"column":15},"end":{"line":18,"column":72}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":25}},"9":{"start":{"line":22,"column":39},"end":{"line":22,"column":93}},"10":{"start":{"line":25,"column":15},"end":{"line":25,"column":38}},"11":{"start":{"line":27,"column":0},"end":{"line":32,"column":3}},"12":{"start":{"line":28,"column":2},"end":{"line":31,"column":5}},"13":{"start":{"line":33,"column":0},"end":{"line":33,"column":36}},"14":{"start":{"line":35,"column":0},"end":{"line":35,"column":46}},"15":{"start":{"line":36,"column":0},"end":{"line":36,"column":42}},"16":{"start":{"line":37,"column":0},"end":{"line":37,"column":49}},"17":{"start":{"line":38,"column":0},"end":{"line":38,"column":49}},"18":{"start":{"line":39,"column":0},"end":{"line":43,"column":3}},"19":{"start":{"line":40,"column":2},"end":{"line":42,"column":5}},"20":{"start":{"line":45,"column":13},"end":{"line":45,"column":29}},"21":{"start":{"line":46,"column":0},"end":{"line":48,"column":3}},"22":{"start":{"line":47,"column":2},"end":{"line":47,"column":50}},"23":{"start":{"line":49,"column":15},"end":{"line":49,"column":21}},"24":{"start":{"line":50,"column":0},"end":{"line":50,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":31}},"loc":{"start":{"line":22,"column":37},"end":{"line":22,"column":95}},"line":22},"1":{"name":"(anonymous_1)","decl":{"start":{"line":27,"column":16},"end":{"line":27,"column":17}},"loc":{"start":{"line":27,"column":30},"end":{"line":32,"column":1}},"line":27},"2":{"name":"(anonymous_2)","decl":{"start":{"line":39,"column":16},"end":{"line":39,"column":17}},"loc":{"start":{"line":39,"column":36},"end":{"line":43,"column":1}},"line":39},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":28},"end":{"line":46,"column":29}},"loc":{"start":{"line":46,"column":34},"end":{"line":48,"column":1}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":92}},"type":"cond-expr","locations":[{"start":{"line":22,"column":70},"end":{"line":22,"column":73}},{"start":{"line":22,"column":76},"end":{"line":22,"column":92}}],"line":22},"1":{"loc":{"start":{"line":22,"column":46},"end":{"line":22,"column":67}},"type":"binary-expr","locations":[{"start":{"line":22,"column":46},"end":{"line":22,"column":49}},{"start":{"line":22,"column":53},"end":{"line":22,"column":67}}],"line":22},"2":{"loc":{"start":{"line":46,"column":14},"end":{"line":46,"column":26}},"type":"binary-expr","locations":[{"start":{"line":46,"column":14},"end":{"line":46,"column":18}},{"start":{"line":46,"column":22},"end":{"line":46,"column":26}}],"line":46}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":5,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1},"f":{"0":5,"1":1,"2":1,"3":1},"b":{"0":[4,1],"1":[5,5],"2":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["server","get","req","res","status","json","success","message","use","express","queryRoutes","authRoutes","article","comment","next","error","port","process","env","PORT","listen","console","log"],"mappings":";;;;;;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AARA;AAUA,MAAMA,MAAM,GAAG,uBAAf,C,CAEA;;AACAA,MAAM,CAACC,GAAP,CAAW,GAAX,EAAgB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACpBC,IAAAA,OAAO,EAAE,IADW;AAEpBC,IAAAA,OAAO,EAAE;AAFW,GAArB;AAIA,CALD;AAOAP,MAAM,CAACQ,GAAP,CAAWC,iBAAQJ,IAAR,EAAX,E,CACA;;AACAL,MAAM,CAACQ,GAAP,CAAW,iBAAX,EAA8BE,cAA9B;AACAV,MAAM,CAACQ,GAAP,CAAW,cAAX,EAA2BG,aAA3B;AACAX,MAAM,CAACQ,GAAP,CAAW,kBAAX,EAA+BI,gBAA/B;AACAZ,MAAM,CAACQ,GAAP,CAAW,kBAAX,EAA+BK,gBAA/B;AACAb,MAAM,CAACQ,GAAP,CAAW,GAAX,EAAgB,CAACN,GAAD,EAAMC,GAAN,EAAWW,IAAX,KAAoB;AACnCX,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACpBU,IAAAA,KAAK,EAAE;AADa,GAArB;AAGA,CAJD,E,CAKA;;AACA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAzB;AACAnB,MAAM,CAACoB,MAAP,CAAcJ,IAAI,IAAI,IAAtB,EAA4B,MAAM;AACjCK,EAAAA,OAAO,CAACC,GAAR,CAAY,8BAA8BN,IAA1C;AACA,CAFD;eAIehB,M","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\","sourcesContent":["/** @format */\r\n\r\nimport \"./db\";\r\nimport express from \"express\";\r\nimport queryRoutes from \"./routes/query.route\";\r\nimport authRoutes from \"./routes/auth.route\";\r\nimport article from \"./routes/article.route\";\r\nimport comment from \"./routes/comment.route\";\r\nimport \"dotenv/config\";\r\n\r\nconst server = express();\r\n\r\n// default route\r\nserver.get(\"/\", (req, res) => {\r\n\tres.status(200).json({\r\n\t\tsuccess: true,\r\n\t\tmessage: \"You successfully landed on ATLP-7 App API for Prince Backend\",\r\n\t});\r\n});\r\n\r\nserver.use(express.json());\r\n// route and version\r\nserver.use(\"/api/v1/queries\", queryRoutes);\r\nserver.use(\"/api/v1/auth\", authRoutes);\r\nserver.use(\"/api/v1/articles\", article);\r\nserver.use(\"/api/v1/articles\", comment);\r\nserver.use(\"*\", (req, res, next) => {\r\n\tres.status(404).json({\r\n\t\terror: \"NOT FOUND\",\r\n\t});\r\n});\r\n//port number\r\nconst port = process.env.PORT;\r\nserver.listen(port || 3000, () => {\r\n\tconsole.log(\"Server listening on port \" + port);\r\n});\r\n\r\nexport default server;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2fcc09f78bc0cfd18e17eafb3a961f5ece757863","contentHash":"014d5b076dccc74a783c512742b7ff42937abc5c9fade466b54e0478b73a5138"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\index.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\index.js","statementMap":{"0":{"start":{"line":3,"column":16},"end":{"line":3,"column":59}},"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"2":{"start":{"line":7,"column":39},"end":{"line":7,"column":93}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":40}},"4":{"start":{"line":12,"column":19},"end":{"line":12,"column":44}},"5":{"start":{"line":13,"column":20},"end":{"line":13,"column":45}},"6":{"start":{"line":14,"column":20},"end":{"line":14,"column":53}},"7":{"start":{"line":15,"column":22},"end":{"line":15,"column":107}},"8":{"start":{"line":17,"column":0},"end":{"line":24,"column":3}},"9":{"start":{"line":21,"column":2},"end":{"line":21,"column":55}},"10":{"start":{"line":23,"column":2},"end":{"line":23,"column":55}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":31}},"loc":{"start":{"line":7,"column":37},"end":{"line":7,"column":95}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":8},"end":{"line":20,"column":9}},"loc":{"start":{"line":20,"column":14},"end":{"line":22,"column":1}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":22,"column":9},"end":{"line":22,"column":10}},"loc":{"start":{"line":22,"column":14},"end":{"line":24,"column":1}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":92}},"type":"cond-expr","locations":[{"start":{"line":7,"column":70},"end":{"line":7,"column":73}},{"start":{"line":7,"column":76},"end":{"line":7,"column":92}}],"line":7},"1":{"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},"type":"binary-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":49}},{"start":{"line":7,"column":53},"end":{"line":7,"column":67}}],"line":7},"2":{"loc":{"start":{"line":15,"column":22},"end":{"line":15,"column":107}},"type":"cond-expr","locations":[{"start":{"line":15,"column":45},"end":{"line":15,"column":55}},{"start":{"line":15,"column":58},"end":{"line":15,"column":107}}],"line":15},"3":{"loc":{"start":{"line":15,"column":58},"end":{"line":15,"column":107}},"type":"cond-expr","locations":[{"start":{"line":15,"column":82},"end":{"line":15,"column":93}},{"start":{"line":15,"column":96},"end":{"line":15,"column":107}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0},"f":{"0":1,"1":1,"2":0},"b":{"0":[0,1],"1":[1,1],"2":[0,1],"3":[0,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["environment","process","env","NODE_ENV","dev_db_url","DB_CONNECTION","prod_db_url","test_db_url","TESTING_DB_CONNECTION","connectionUrl","mongoose","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","e","message"],"mappings":";;AAEA;;AACA;;;;AAHA;AAKA,MAAMA,WAAW,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAhC,C,CACA;;AACA,MAAMC,UAAU,GAAGH,OAAO,CAACC,GAAR,CAAYG,aAA/B;AACA,MAAMC,WAAW,GAAGL,OAAO,CAACC,GAAR,CAAYG,aAAhC;AACA,MAAME,WAAW,GAAGN,OAAO,CAACC,GAAR,CAAYM,qBAAhC;AAEA,MAAMC,aAAa,GAClBT,WAAW,IAAI,KAAf,GACGI,UADH,GAEGJ,WAAW,IAAI,MAAf,GACAM,WADA,GAEAC,WALJ;;AAMAG,kBACEC,OADF,CACUF,aADV,EACyB;AACvBG,EAAAA,eAAe,EAAE,IADM;AAEvBC,EAAAA,kBAAkB,EAAE;AAFG,CADzB,EAKEC,IALF,CAKO,MAAM;AACXC,EAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ;AACA,CAPF,EAQEC,KARF,CAQSC,CAAD,IAAO;AACbH,EAAAA,OAAO,CAACC,GAAR,CAAY,8BAA8BE,CAAC,CAACC,OAA5C;AACA,CAVF","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\","sourcesContent":["/** @format */\r\n\r\nimport mongoose from \"mongoose\";\r\nimport \"dotenv/config\";\r\n\r\nconst environment = process.env.NODE_ENV;\r\n// database url according to environment\r\nconst dev_db_url = process.env.DB_CONNECTION;\r\nconst prod_db_url = process.env.DB_CONNECTION;\r\nconst test_db_url = process.env.TESTING_DB_CONNECTION;\r\n\r\nconst connectionUrl =\r\n\tenvironment == \"dev\"\r\n\t\t? dev_db_url\r\n\t\t: environment == \"prod\"\r\n\t\t? prod_db_url\r\n\t\t: test_db_url;\r\nmongoose\r\n\t.connect(connectionUrl, {\r\n\t\tuseNewUrlParser: true,\r\n\t\tuseUnifiedTopology: true,\r\n\t})\r\n\t.then(() => {\r\n\t\tconsole.log(\"App connected to Mongodb successfully\");\r\n\t})\r\n\t.catch((e) => {\r\n\t\tconsole.log(\"Mongodb connection error \" + e.message);\r\n\t});\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c553a02b6e88eb9484ed0c8b6d29c8756d70dfcd","contentHash":"fe9e97f8f23884ec0aea2f487d0043a330966a1dd48169eebf5f918ce62df00d"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\query.route.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\query.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":52}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":17,"column":15},"end":{"line":17,"column":40}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":35}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":65}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":62}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":73}},"11":{"start":{"line":23,"column":15},"end":{"line":23,"column":21}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["query.route.js"],"names":["router","express","Router","post","saveQuery","get","checkAdminAuth","getAllQueries","getById","delete","deleteQueryById"],"mappings":";;;;;;;AAEA;;AACA;;AAMA;;;;AATA;AAWA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBC,gBAAjB;AACAJ,MAAM,CAACK,GAAP,CAAW,GAAX,EAAgBC,yBAAhB,EAAgCC,oBAAhC;AACAP,MAAM,CAACK,GAAP,CAAW,MAAX,EAAmBC,yBAAnB,EAAmCE,cAAnC;AACAR,MAAM,CAACS,MAAP,CAAc,MAAd,EAAsBH,yBAAtB,EAAsCI,sBAAtC;eAEeV,M","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\","sourcesContent":["/** @format */\r\n\r\nimport express from \"express\";\r\nimport {\r\n\tsaveQuery,\r\n\tgetAllQueries,\r\n\tgetById,\r\n\tdeleteQueryById,\r\n} from \"../controllers/query.controller\";\r\nimport { checkAdminAuth, checkAuth } from \"../middleware/check-auth\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/\", saveQuery);\r\nrouter.get(\"/\", checkAdminAuth, getAllQueries);\r\nrouter.get(\"/:id\", checkAdminAuth, getById);\r\nrouter.delete(\"/:id\", checkAdminAuth, deleteQueryById);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0f0c3c1ffbcda535da11dff20463c115de08a30b","contentHash":"e5d61dc03f462fc9444821cd971e1c81daeefa7bd882820b76c13b21c5099dde"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\query.controller.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\query.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":95}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":71}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":43}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":15,"column":18},"end":{"line":29,"column":1}},"6":{"start":{"line":18,"column":6},"end":{"line":18,"column":43}},"7":{"start":{"line":19,"column":2},"end":{"line":21,"column":5}},"8":{"start":{"line":19,"column":13},"end":{"line":21,"column":5}},"9":{"start":{"line":22,"column":16},"end":{"line":22,"column":24}},"10":{"start":{"line":23,"column":19},"end":{"line":23,"column":44}},"11":{"start":{"line":24,"column":2},"end":{"line":24,"column":24}},"12":{"start":{"line":25,"column":2},"end":{"line":28,"column":5}},"13":{"start":{"line":31,"column":0},"end":{"line":31,"column":30}},"14":{"start":{"line":33,"column":22},"end":{"line":39,"column":1}},"15":{"start":{"line":34,"column":18},"end":{"line":34,"column":45}},"16":{"start":{"line":35,"column":2},"end":{"line":38,"column":5}},"17":{"start":{"line":41,"column":0},"end":{"line":41,"column":38}},"18":{"start":{"line":43,"column":16},"end":{"line":56,"column":1}},"19":{"start":{"line":46,"column":6},"end":{"line":46,"column":16}},"20":{"start":{"line":47,"column":16},"end":{"line":47,"column":49}},"21":{"start":{"line":48,"column":2},"end":{"line":51,"column":5}},"22":{"start":{"line":48,"column":14},"end":{"line":51,"column":5}},"23":{"start":{"line":52,"column":2},"end":{"line":55,"column":5}},"24":{"start":{"line":58,"column":0},"end":{"line":58,"column":26}},"25":{"start":{"line":60,"column":24},"end":{"line":75,"column":1}},"26":{"start":{"line":63,"column":6},"end":{"line":63,"column":16}},"27":{"start":{"line":64,"column":16},"end":{"line":64,"column":49}},"28":{"start":{"line":65,"column":2},"end":{"line":68,"column":5}},"29":{"start":{"line":65,"column":14},"end":{"line":68,"column":5}},"30":{"start":{"line":69,"column":2},"end":{"line":69,"column":45}},"31":{"start":{"line":70,"column":2},"end":{"line":74,"column":5}},"32":{"start":{"line":77,"column":0},"end":{"line":77,"column":42}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":18},"end":{"line":15,"column":19}},"loc":{"start":{"line":15,"column":38},"end":{"line":29,"column":1}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":33,"column":22},"end":{"line":33,"column":23}},"loc":{"start":{"line":33,"column":42},"end":{"line":39,"column":1}},"line":33},"3":{"name":"(anonymous_3)","decl":{"start":{"line":43,"column":16},"end":{"line":43,"column":17}},"loc":{"start":{"line":43,"column":36},"end":{"line":56,"column":1}},"line":43},"4":{"name":"(anonymous_4)","decl":{"start":{"line":60,"column":24},"end":{"line":60,"column":25}},"loc":{"start":{"line":60,"column":44},"end":{"line":75,"column":1}},"line":60}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12},"2":{"loc":{"start":{"line":19,"column":2},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":21,"column":5}},{"start":{"line":19,"column":2},"end":{"line":21,"column":5}}],"line":19},"3":{"loc":{"start":{"line":48,"column":2},"end":{"line":51,"column":5}},"type":"if","locations":[{"start":{"line":48,"column":2},"end":{"line":51,"column":5}},{"start":{"line":48,"column":2},"end":{"line":51,"column":5}}],"line":48},"4":{"loc":{"start":{"line":65,"column":2},"end":{"line":68,"column":5}},"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":68,"column":5}},{"start":{"line":65,"column":2},"end":{"line":68,"column":5}}],"line":65}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["query.controller.js"],"names":["saveQuery","req","res","error","body","status","json","message","details","query","newQuery","Query","save","data","getAllQueries","queries","find","getById","id","params","findById","deleteQueryById","findByIdAndDelete"],"mappings":";;;;;;;AAEA;;AACA;;;;AAHA;AAKO,MAAMA,SAAS,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC5C,QAAM;AAAEC,IAAAA;AAAF,MAAY,4BAAgBF,GAAG,CAACG,IAApB,CAAlB;AACA,MAAID,KAAJ,EAAW,OAAOD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,EAAiBD;AAA5B,GAArB,CAAP;AACX,QAAME,KAAK,GAAGR,GAAG,CAACG,IAAlB;AACA,QAAMM,QAAQ,GAAG,IAAIC,cAAJ,CAAUF,KAAV,CAAjB;AACA,QAAMC,QAAQ,CAACE,IAAT,EAAN;AACAV,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBQ,IAAAA,IAAI,EAAEH;AAA3B,GAArB;AACA,CAPM;;;;AASA,MAAMI,aAAa,GAAG,OAAOb,GAAP,EAAYC,GAAZ,KAAoB;AAChD,QAAMa,OAAO,GAAG,MAAMJ,eAAMK,IAAN,EAAtB;AACAd,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBQ,IAAAA,IAAI,EAAEE;AAA3B,GAArB;AACA,CAHM;;;;AAKA,MAAME,OAAO,GAAG,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;AAC1C,QAAM;AAAEgB,IAAAA;AAAF,MAASjB,GAAG,CAACkB,MAAnB;AACA,QAAMV,KAAK,GAAG,MAAME,eAAMS,QAAN,CAAeF,EAAf,CAApB;AACA,MAAI,CAACT,KAAL,EACC,OAAOP,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,KAAV;AAAiBE,IAAAA,OAAO,EAAE;AAA1B,GAArB,CAAP;AACDL,EAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBQ,IAAAA,IAAI,EAAEJ;AAA3B,GAArB;AACA,CANM;;;;AAQA,MAAMY,eAAe,GAAG,OAAOpB,GAAP,EAAYC,GAAZ,KAAoB;AAClD,QAAM;AAAEgB,IAAAA;AAAF,MAASjB,GAAG,CAACkB,MAAnB;AACA,QAAMV,KAAK,GAAG,MAAME,eAAMS,QAAN,CAAeF,EAAf,CAApB;AACA,MAAI,CAACT,KAAL,EACC,OAAOP,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,KAAV;AAAiBE,IAAAA,OAAO,EAAE;AAA1B,GAArB,CAAP;AACD,QAAMI,eAAMW,iBAAN,CAAwBJ,EAAxB,CAAN;AACAhB,EAAAA,GAAG,CACDG,MADF,CACS,GADT,EAEEC,IAFF,CAEO;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBE,IAAAA,OAAO,EAAE,eAA9B;AAA+CM,IAAAA,IAAI,EAAE;AAArD,GAFP;AAGA,CATM","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\","sourcesContent":["/** @format */\r\n\r\nimport Query from \"../db/model/query.model\";\r\nimport { queryValidation } from \"../validation/index\";\r\n\r\nexport const saveQuery = async (req, res) => {\r\n\tconst { error } = queryValidation(req.body);\r\n\tif (error) return res.status(400).json({ message: error.details[0].message });\r\n\tconst query = req.body;\r\n\tconst newQuery = new Query(query);\r\n\tawait newQuery.save();\r\n\tres.status(201).json({ status: \"success\", data: newQuery });\r\n};\r\n\r\nexport const getAllQueries = async (req, res) => {\r\n\tconst queries = await Query.find();\r\n\tres.status(201).json({ status: \"success\", data: queries });\r\n};\r\n\r\nexport const getById = async (req, res) => {\r\n\tconst { id } = req.params;\r\n\tconst query = await Query.findById(id);\r\n\tif (!query)\r\n\t\treturn res.status(204).json({ status: false, message: \"Query not found\" });\r\n\tres.status(201).json({ status: \"success\", data: query });\r\n};\r\n\r\nexport const deleteQueryById = async (req, res) => {\r\n\tconst { id } = req.params;\r\n\tconst query = await Query.findById(id);\r\n\tif (!query)\r\n\t\treturn res.status(404).json({ status: false, message: \"Query not found\" });\r\n\tawait Query.findByIdAndDelete(id);\r\n\tres\r\n\t\t.status(200)\r\n\t\t.json({ status: \"success\", message: \"Query deleted\", data: null });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"09f42d35fd4125fecb79961214c5054af22a66f2","contentHash":"37624ef402b06846fa823971f57d039b66a8074453d2986d6e4927a596fcc7f0"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\query.model.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\query.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":20},"end":{"line":34,"column":2}},"5":{"start":{"line":36,"column":14},"end":{"line":36,"column":59}},"6":{"start":{"line":38,"column":15},"end":{"line":38,"column":20}},"7":{"start":{"line":39,"column":0},"end":{"line":39,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["query.model.js"],"names":["QuerySchema","mongoose","Schema","name","type","String","required","email","subject","content","createdAt","Date","default","Query","model"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA,MAAMA,WAAW,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACvCC,EAAAA,IAAI,EAAE;AACLC,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GADiC;AAKvCC,EAAAA,KAAK,EAAE;AACNH,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,iBAAP;AAFJ,GALgC;AASvCE,EAAAA,OAAO,EAAE;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAT8B;AAavCG,EAAAA,OAAO,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAb8B;AAiBvCI,EAAAA,SAAS,EAAE;AACVN,IAAAA,IAAI,EAAEO,IADI;AAEVC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAFC;AAjB4B,CAApB,CAApB;;AAsBA,MAAME,KAAK,GAAGZ,kBAASa,KAAT,CAAe,OAAf,EAAwBd,WAAxB,CAAd;;eACea,K","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\","sourcesContent":["/** @format */\r\n\r\nimport mongoose from \"mongoose\";\r\n\r\nconst QuerySchema = new mongoose.Schema({\r\n\tname: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\temail: {\r\n\t\ttype: String,\r\n\t\trequired: [true, \"Why not email ?\"],\r\n\t},\r\n\tsubject: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tcontent: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tcreatedAt: {\r\n\t\ttype: Date,\r\n\t\tdefault: new Date(),\r\n\t},\r\n});\r\nconst Query = mongoose.model(\"Query\", QuerySchema);\r\nexport default Query;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"84a2788dee05578cf1767be0d814d7def0c3d468","contentHash":"8784652f69b222644d64477d609a33bef94bc80eeb741fc0391dbc6463a486e4"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\validation\\index.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\validation\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":118}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":49}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":14,"column":24},"end":{"line":23,"column":1}},"5":{"start":{"line":15,"column":17},"end":{"line":20,"column":4}},"6":{"start":{"line":22,"column":2},"end":{"line":22,"column":31}},"7":{"start":{"line":26,"column":0},"end":{"line":26,"column":42}},"8":{"start":{"line":28,"column":27},"end":{"line":37,"column":1}},"9":{"start":{"line":29,"column":17},"end":{"line":34,"column":4}},"10":{"start":{"line":36,"column":2},"end":{"line":36,"column":31}},"11":{"start":{"line":40,"column":0},"end":{"line":40,"column":48}},"12":{"start":{"line":42,"column":26},"end":{"line":52,"column":1}},"13":{"start":{"line":43,"column":17},"end":{"line":49,"column":4}},"14":{"start":{"line":51,"column":2},"end":{"line":51,"column":31}},"15":{"start":{"line":55,"column":0},"end":{"line":55,"column":46}},"16":{"start":{"line":57,"column":26},"end":{"line":65,"column":1}},"17":{"start":{"line":58,"column":17},"end":{"line":62,"column":4}},"18":{"start":{"line":64,"column":2},"end":{"line":64,"column":31}},"19":{"start":{"line":67,"column":0},"end":{"line":67,"column":46}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":24},"end":{"line":14,"column":25}},"loc":{"start":{"line":14,"column":32},"end":{"line":23,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":28,"column":27},"end":{"line":28,"column":28}},"loc":{"start":{"line":28,"column":35},"end":{"line":37,"column":1}},"line":28},"3":{"name":"(anonymous_3)","decl":{"start":{"line":42,"column":26},"end":{"line":42,"column":27}},"loc":{"start":{"line":42,"column":34},"end":{"line":52,"column":1}},"line":42},"4":{"name":"(anonymous_4)","decl":{"start":{"line":57,"column":26},"end":{"line":57,"column":27}},"loc":{"start":{"line":57,"column":34},"end":{"line":65,"column":1}},"line":57}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":1,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":1,"16":1,"17":0,"18":0,"19":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["queryValidation","data","schema","Joi","object","name","string","min","required","email","subject","content","validate","registerValidation","username","role","password","articleValidation","cover","title","slug","author","commentValidation"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA;AACO,MAAMA,eAAe,GAAIC,IAAD,IAAU;AACxC,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACzBC,IAAAA,IAAI,EAAEF,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EADmB;AAEzBC,IAAAA,KAAK,EAAEN,aAAIG,MAAJ,GAAaE,QAAb,GAAwBC,KAAxB,EAFkB;AAGzBC,IAAAA,OAAO,EAAEP,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EAHgB;AAIzBG,IAAAA,OAAO,EAAER,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB;AAJgB,GAAX,CAAf;;AAOA,SAAON,MAAM,CAACU,QAAP,CAAgBX,IAAhB,CAAP;AACA,CATM,C,CAWP;;;;;AACO,MAAMY,kBAAkB,GAAIZ,IAAD,IAAU;AAC3C,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACzBU,IAAAA,QAAQ,EAAEX,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,CADe;AAEzBQ,IAAAA,IAAI,EAAEZ,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,CAFmB;AAGzBE,IAAAA,KAAK,EAAEN,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,GAA+BC,KAA/B,EAHkB;AAIzBO,IAAAA,QAAQ,EAAEb,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB;AAJe,GAAX,CAAf;;AAMA,SAAON,MAAM,CAACU,QAAP,CAAgBX,IAAhB,CAAP;AACA,CARM,C,CAUP;;;;;AACO,MAAMgB,iBAAiB,GAAIhB,IAAD,IAAU;AAC1C,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACzBc,IAAAA,KAAK,EAAEf,aAAIG,MAAJ,EADkB;AAEzBa,IAAAA,KAAK,EAAEhB,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,CAFkB;AAGzBa,IAAAA,IAAI,EAAEjB,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,CAHmB;AAIzBc,IAAAA,MAAM,EAAElB,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,CAJiB;AAKzBI,IAAAA,OAAO,EAAER,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB;AALgB,GAAX,CAAf;;AAOA,SAAOL,MAAM,CAACU,QAAP,CAAgBX,IAAhB,CAAP;AACA,CATM,C,CAWP;;;;;AACO,MAAMqB,iBAAiB,GAAIrB,IAAD,IAAU;AAC1C,QAAMC,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACzBC,IAAAA,IAAI,EAAEF,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EADmB;AAEzBC,IAAAA,KAAK,EAAEN,aAAIG,MAAJ,GAAaE,QAAb,GAAwBC,KAAxB,EAFkB;AAGzBE,IAAAA,OAAO,EAAER,aAAIG,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB;AAHgB,GAAX,CAAf;;AAMA,SAAON,MAAM,CAACU,QAAP,CAAgBX,IAAhB,CAAP;AACA,CARM","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\validation\\","sourcesContent":["/** @format */\r\n\r\nimport Joi from \"joi\";\r\n\r\n// New query validation\r\nexport const queryValidation = (data) => {\r\n\tconst schema = Joi.object({\r\n\t\tname: Joi.string().min(3).required(),\r\n\t\temail: Joi.string().required().email(),\r\n\t\tsubject: Joi.string().min(6).required(),\r\n\t\tcontent: Joi.string().min(6).required(),\r\n\t});\r\n\r\n\treturn schema.validate(data);\r\n};\r\n\r\n//New User validation\r\nexport const registerValidation = (data) => {\r\n\tconst schema = Joi.object({\r\n\t\tusername: Joi.string().min(6),\r\n\t\trole: Joi.string().min(3),\r\n\t\temail: Joi.string().min(6).required().email(),\r\n\t\tpassword: Joi.string().min(6).required(),\r\n\t});\r\n\treturn schema.validate(data);\r\n};\r\n\r\n//New article validation\r\nexport const articleValidation = (data) => {\r\n\tconst schema = Joi.object({\r\n\t\tcover: Joi.string(),\r\n\t\ttitle: Joi.string().min(6),\r\n\t\tslug: Joi.string().min(6),\r\n\t\tauthor: Joi.string().min(6),\r\n\t\tcontent: Joi.string().min(6),\r\n\t});\r\n\treturn schema.validate(data);\r\n};\r\n\r\n// New Comment validation\r\nexport const commentValidation = (data) => {\r\n\tconst schema = Joi.object({\r\n\t\tname: Joi.string().min(3).required(),\r\n\t\temail: Joi.string().required().email(),\r\n\t\tcontent: Joi.string().min(6).required(),\r\n\t});\r\n\r\n\treturn schema.validate(data);\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2b0646977aa15a64256641ca847f4c185678e7a2","contentHash":"bed62661f7bde8c463535fe99e600891e476c990f9805f8d6cabed6a7b6d71eb"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\check-auth.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\check-auth.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"2":{"start":{"line":8,"column":11},"end":{"line":8,"column":27}},"3":{"start":{"line":11,"column":18},"end":{"line":28,"column":1}},"4":{"start":{"line":12,"column":22},"end":{"line":12,"column":47}},"5":{"start":{"line":14,"column":2},"end":{"line":22,"column":3}},"6":{"start":{"line":15,"column":18},"end":{"line":15,"column":43}},"7":{"start":{"line":16,"column":20},"end":{"line":16,"column":48}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":31}},"9":{"start":{"line":17,"column":17},"end":{"line":17,"column":31}},"10":{"start":{"line":18,"column":4},"end":{"line":21,"column":7}},"11":{"start":{"line":24,"column":2},"end":{"line":27,"column":5}},"12":{"start":{"line":30,"column":0},"end":{"line":30,"column":30}},"13":{"start":{"line":32,"column":23},"end":{"line":57,"column":1}},"14":{"start":{"line":33,"column":22},"end":{"line":33,"column":47}},"15":{"start":{"line":35,"column":2},"end":{"line":51,"column":3}},"16":{"start":{"line":36,"column":18},"end":{"line":36,"column":43}},"17":{"start":{"line":37,"column":20},"end":{"line":37,"column":48}},"18":{"start":{"line":39,"column":4},"end":{"line":45,"column":5}},"19":{"start":{"line":40,"column":6},"end":{"line":40,"column":49}},"20":{"start":{"line":40,"column":35},"end":{"line":40,"column":49}},"21":{"start":{"line":41,"column":6},"end":{"line":44,"column":9}},"22":{"start":{"line":47,"column":4},"end":{"line":50,"column":7}},"23":{"start":{"line":53,"column":2},"end":{"line":56,"column":5}},"24":{"start":{"line":59,"column":0},"end":{"line":59,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":18},"end":{"line":11,"column":19}},"loc":{"start":{"line":11,"column":38},"end":{"line":28,"column":1}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":32,"column":23},"end":{"line":32,"column":24}},"loc":{"start":{"line":32,"column":43},"end":{"line":57,"column":1}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":2},"end":{"line":22,"column":3}},"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":22,"column":3}},{"start":{"line":14,"column":2},"end":{"line":22,"column":3}}],"line":14},"1":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":31}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":31}},{"start":{"line":17,"column":4},"end":{"line":17,"column":31}}],"line":17},"2":{"loc":{"start":{"line":35,"column":2},"end":{"line":51,"column":3}},"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":51,"column":3}},{"start":{"line":35,"column":2},"end":{"line":51,"column":3}}],"line":35},"3":{"loc":{"start":{"line":39,"column":4},"end":{"line":45,"column":5}},"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":45,"column":5}},{"start":{"line":39,"column":4},"end":{"line":45,"column":5}}],"line":39},"4":{"loc":{"start":{"line":40,"column":6},"end":{"line":40,"column":49}},"type":"if","locations":[{"start":{"line":40,"column":6},"end":{"line":40,"column":49}},{"start":{"line":40,"column":6},"end":{"line":40,"column":49}}],"line":40}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1},"f":{"0":0,"1":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["check-auth.js"],"names":["checkAuth","req","res","next","bearerToken","headers","authorization","token","split","payload","status","json","message","checkAdminAuth","role"],"mappings":";;;;;;;AAEA;;AAFA;AAIO,MAAMA,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC5C,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAIF,WAAJ,EAAiB;AAChB,UAAMG,KAAK,GAAGH,WAAW,CAACI,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAd;AACA,UAAMC,OAAO,GAAG,sBAAYF,KAAZ,CAAhB;AACA,QAAIE,OAAJ,EAAa,OAAON,IAAI,EAAX;AAEb,WAAOD,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,MAAV;AAAkBE,MAAAA,OAAO,EAAE;AAA3B,KAArB,CAAP;AACA;;AACD,SAAOV,GAAG,CACRQ,MADK,CACE,GADF,EAELC,IAFK,CAEA;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAFA,CAAP;AAGA,CAZM;;;;AAcA,MAAMC,cAAc,GAAG,CAACZ,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACjD,QAAMC,WAAW,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAAhC;;AACA,MAAIF,WAAJ,EAAiB;AAChB,UAAMG,KAAK,GAAGH,WAAW,CAACI,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAd;AACA,UAAMC,OAAO,GAAG,sBAAYF,KAAZ,CAAhB;;AACA,QAAIE,OAAJ,EAAa;AACZ,UAAIA,OAAO,CAACK,IAAR,IAAgB,OAApB,EAA6B,OAAOX,IAAI,EAAX;AAC7B,aAAOD,GAAG,CACRQ,MADK,CACE,GADF,EAELC,IAFK,CAEA;AACLD,QAAAA,MAAM,EAAE,MADH;AAELE,QAAAA,OAAO,EAAE;AAFJ,OAFA,CAAP;AAMA;;AAED,WAAOV,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,MAAV;AAAkBE,MAAAA,OAAO,EAAE;AAA3B,KAArB,CAAP;AACA;;AACD,SAAOV,GAAG,CACRQ,MADK,CACE,GADF,EAELC,IAFK,CAEA;AAAED,IAAAA,MAAM,EAAE,MAAV;AAAkBE,IAAAA,OAAO,EAAE;AAA3B,GAFA,CAAP;AAGA,CApBM","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\","sourcesContent":["/** @format */\r\n\r\nimport { decodeToken } from \"./jwt\";\r\n\r\nexport const checkAuth = (req, res, next) => {\r\n\tconst bearerToken = req.headers.authorization;\r\n\tif (bearerToken) {\r\n\t\tconst token = bearerToken.split(\" \")[1];\r\n\t\tconst payload = decodeToken(token);\r\n\t\tif (payload) return next();\r\n\r\n\t\treturn res.status(401).json({ status: \"fail\", message: \"Not Authorized\" });\r\n\t}\r\n\treturn res\r\n\t\t.status(401)\r\n\t\t.json({ status: \"fail\", message: \"Not Authorized , please login\" });\r\n};\r\n\r\nexport const checkAdminAuth = (req, res, next) => {\r\n\tconst bearerToken = req.headers.authorization;\r\n\tif (bearerToken) {\r\n\t\tconst token = bearerToken.split(\" \")[1];\r\n\t\tconst payload = decodeToken(token);\r\n\t\tif (payload) {\r\n\t\t\tif (payload.role == \"admin\") return next();\r\n\t\t\treturn res\r\n\t\t\t\t.status(401)\r\n\t\t\t\t.json({\r\n\t\t\t\t\tstatus: \"fail\",\r\n\t\t\t\t\tmessage: \"You don't have permission to perform this action\",\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn res.status(401).json({ status: \"fail\", message: \"Not Authorized\" });\r\n\t}\r\n\treturn res\r\n\t\t.status(401)\r\n\t\t.json({ status: \"fail\", message: \"Not Authorized , please login\" });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"911c2526399de0e6234b4dad2f138a18ac263e61","contentHash":"64dc0511de01c30af5a7dd6c511ae37d9404da20644aa43380bde001aacf7f60"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\jwt.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\jwt.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":15,"column":20},"end":{"line":15,"column":43}},"6":{"start":{"line":17,"column":18},"end":{"line":19,"column":1}},"7":{"start":{"line":18,"column":2},"end":{"line":18,"column":58}},"8":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}},"9":{"start":{"line":23,"column":20},"end":{"line":25,"column":1}},"10":{"start":{"line":24,"column":2},"end":{"line":24,"column":58}},"11":{"start":{"line":27,"column":0},"end":{"line":27,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":18},"end":{"line":17,"column":19}},"loc":{"start":{"line":17,"column":29},"end":{"line":19,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":20},"end":{"line":23,"column":21}},"loc":{"start":{"line":23,"column":29},"end":{"line":25,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["jwt.js"],"names":["private_key","process","env","PRIVATE_KEY","signToken","payload","jwt","sign","decodeToken","token","decode"],"mappings":";;;;;;;AAEA;;AACA;;;;AAHA;AAKA,MAAMA,WAAW,GAAGC,OAAO,CAACC,GAAR,CAAYC,WAAhC;;AAEO,MAAMC,SAAS,GAAIC,OAAD,IAAa;AACrC,SAAOC,sBAAIC,IAAJ,CAASF,OAAT,EAAkBL,WAAlB,CAAP;AACA,CAFM;;;;AAIA,MAAMQ,WAAW,GAAIC,KAAD,IAAW;AACrC,SAAOH,sBAAII,MAAJ,CAAWD,KAAX,EAAkBT,WAAlB,CAAP;AACA,CAFM","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\","sourcesContent":["/** @format */\r\n\r\nimport \"dotenv/config\";\r\nimport jwt from \"jsonwebtoken\";\r\n\r\nconst private_key = process.env.PRIVATE_KEY;\r\n\r\nexport const signToken = (payload) => {\r\n\treturn jwt.sign(payload, private_key);\r\n};\r\n\r\nexport const decodeToken = (token) => {\r\n\treturn jwt.decode(token, private_key);\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b32126ca685687ca7299e5dcf5724127d00ec9ec","contentHash":"38eac249c0f249189235b25566f184d6bd05d6aa3986578ceac042c8c65ab7f9"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\auth.route.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\auth.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":12},"end":{"line":10,"column":53}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":15,"column":15},"end":{"line":15,"column":40}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":37}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":35}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":47}},"9":{"start":{"line":20,"column":15},"end":{"line":20,"column":21}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["auth.route.js"],"names":["router","express","Router","post","signup","login","get","userProfile"],"mappings":";;;;;;;AAEA;;AACA;;;;AAHA;AAIA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,SAAZ,EAAuBC,YAAvB;AACAJ,MAAM,CAACG,IAAP,CAAY,QAAZ,EAAsBE,WAAtB;AACAL,MAAM,CAACM,GAAP,CAAW,eAAX,EAA4BC,iBAA5B;eACeP,M","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\","sourcesContent":["/** @format */\r\n\r\nimport express from \"express\";\r\nimport { login, signup, userProfile } from \"../controllers/auth.controller\";\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/signup\", signup);\r\nrouter.post(\"/login\", login);\r\nrouter.get(\"/user-profile\", userProfile);\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"137243739fff73e6ebd3968563bbdf3874b10d11","contentHash":"a11589416735576fff820f3f9f63a65b8d2939aae6385c61c349e8428aab9305"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\auth.controller.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\auth.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":62}},"2":{"start":{"line":8,"column":12},"end":{"line":8,"column":69}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":58}},"4":{"start":{"line":12,"column":11},"end":{"line":12,"column":39}},"5":{"start":{"line":14,"column":13},"end":{"line":14,"column":43}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":19,"column":15},"end":{"line":55,"column":1}},"8":{"start":{"line":22,"column":6},"end":{"line":22,"column":46}},"9":{"start":{"line":24,"column":2},"end":{"line":26,"column":5}},"10":{"start":{"line":24,"column":13},"end":{"line":26,"column":5}},"11":{"start":{"line":27,"column":13},"end":{"line":29,"column":4}},"12":{"start":{"line":30,"column":17},"end":{"line":32,"column":4}},"13":{"start":{"line":34,"column":2},"end":{"line":44,"column":3}},"14":{"start":{"line":35,"column":4},"end":{"line":38,"column":7}},"15":{"start":{"line":39,"column":9},"end":{"line":44,"column":3}},"16":{"start":{"line":40,"column":4},"end":{"line":43,"column":7}},"17":{"start":{"line":46,"column":2},"end":{"line":46,"column":18}},"18":{"start":{"line":47,"column":2},"end":{"line":47,"column":63}},"19":{"start":{"line":48,"column":18},"end":{"line":48,"column":47}},"20":{"start":{"line":49,"column":2},"end":{"line":49,"column":17}},"21":{"start":{"line":50,"column":2},"end":{"line":54,"column":5}},"22":{"start":{"line":57,"column":0},"end":{"line":57,"column":24}},"23":{"start":{"line":59,"column":14},"end":{"line":92,"column":1}},"24":{"start":{"line":63,"column":6},"end":{"line":63,"column":14}},"25":{"start":{"line":64,"column":13},"end":{"line":66,"column":4}},"26":{"start":{"line":67,"column":2},"end":{"line":70,"column":5}},"27":{"start":{"line":67,"column":13},"end":{"line":70,"column":5}},"28":{"start":{"line":71,"column":26},"end":{"line":71,"column":82}},"29":{"start":{"line":72,"column":2},"end":{"line":75,"column":5}},"30":{"start":{"line":72,"column":24},"end":{"line":75,"column":5}},"31":{"start":{"line":80,"column":6},"end":{"line":80,"column":10}},"32":{"start":{"line":81,"column":16},"end":{"line":86,"column":5}},"33":{"start":{"line":87,"column":2},"end":{"line":91,"column":5}},"34":{"start":{"line":94,"column":0},"end":{"line":94,"column":22}},"35":{"start":{"line":96,"column":20},"end":{"line":108,"column":1}},"36":{"start":{"line":97,"column":22},"end":{"line":97,"column":47}},"37":{"start":{"line":98,"column":16},"end":{"line":98,"column":41}},"38":{"start":{"line":99,"column":18},"end":{"line":99,"column":46}},"39":{"start":{"line":100,"column":2},"end":{"line":103,"column":5}},"40":{"start":{"line":100,"column":15},"end":{"line":103,"column":5}},"41":{"start":{"line":104,"column":2},"end":{"line":107,"column":5}},"42":{"start":{"line":110,"column":0},"end":{"line":110,"column":34}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":15},"end":{"line":19,"column":16}},"loc":{"start":{"line":19,"column":35},"end":{"line":55,"column":1}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":59,"column":14},"end":{"line":59,"column":15}},"loc":{"start":{"line":59,"column":34},"end":{"line":92,"column":1}},"line":59},"3":{"name":"(anonymous_3)","decl":{"start":{"line":96,"column":20},"end":{"line":96,"column":21}},"loc":{"start":{"line":96,"column":34},"end":{"line":108,"column":1}},"line":96}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":24,"column":2},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":26,"column":5}},{"start":{"line":24,"column":2},"end":{"line":26,"column":5}}],"line":24},"3":{"loc":{"start":{"line":34,"column":2},"end":{"line":44,"column":3}},"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":44,"column":3}},{"start":{"line":34,"column":2},"end":{"line":44,"column":3}}],"line":34},"4":{"loc":{"start":{"line":39,"column":9},"end":{"line":44,"column":3}},"type":"if","locations":[{"start":{"line":39,"column":9},"end":{"line":44,"column":3}},{"start":{"line":39,"column":9},"end":{"line":44,"column":3}}],"line":39},"5":{"loc":{"start":{"line":67,"column":2},"end":{"line":70,"column":5}},"type":"if","locations":[{"start":{"line":67,"column":2},"end":{"line":70,"column":5}},{"start":{"line":67,"column":2},"end":{"line":70,"column":5}}],"line":67},"6":{"loc":{"start":{"line":72,"column":2},"end":{"line":75,"column":5}},"type":"if","locations":[{"start":{"line":72,"column":2},"end":{"line":75,"column":5}},{"start":{"line":72,"column":2},"end":{"line":75,"column":5}}],"line":72},"7":{"loc":{"start":{"line":100,"column":2},"end":{"line":103,"column":5}},"type":"if","locations":[{"start":{"line":100,"column":2},"end":{"line":103,"column":5}},{"start":{"line":100,"column":2},"end":{"line":103,"column":5}}],"line":100}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["auth.controller.js"],"names":["signup","req","res","error","body","status","json","message","details","user","User","findOne","username","userMail","email","password","newUser","save","data","login","isPasswordValid","_id","role","token","JSON","stringify","userProfile","bearerToken","headers","authorization","split","payload"],"mappings":"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","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\","sourcesContent":["/** @format */\r\n\r\nimport User from \"../db/model/user.model\";\r\nimport { hash, verify } from \"../middleware/hash-password\";\r\nimport { decodeToken, signToken } from \"../middleware/jwt\";\r\nimport { registerValidation } from \"../validation/index\";\r\n\r\nexport const signup = async (req, res) => {\r\n\tconst { error } = registerValidation(req.body);\r\n\t// validate incoming request\r\n\tif (error) return res.status(400).json({ message: error.details[0].message });\r\n\r\n\tlet user = await User.findOne({\r\n\t\tusername: req.body.username,\r\n\t});\r\n\r\n\tlet userMail = await User.findOne({\r\n\t\temail: req.body.email,\r\n\t});\r\n\r\n\tif (user) {\r\n\t\treturn res.status(400).json({\r\n\t\t\terror: true,\r\n\t\t\tmessage: \"Username is already taken\",\r\n\t\t});\r\n\t} else if (userMail) {\r\n\t\treturn res.status(400).json({\r\n\t\t\terror: true,\r\n\t\t\tmessage: \"Email is already taken\",\r\n\t\t});\r\n\t}\r\n\tuser = req.body;\r\n\tuser.password = await hash(user.password);\r\n\tconst newUser = await new User(user);\r\n\tnewUser.save();\r\n\tres\r\n\t\t.status(201)\r\n\t\t.json({ status: \"success\", message: \"User created\", data: newUser });\r\n};\r\n\r\nexport const login = async (req, res) => {\r\n\tconst { password, email } = req.body;\r\n\r\n\tlet user = await User.findOne({ email });\r\n\tif (!user)\r\n\t\treturn res\r\n\t\t\t.status(401)\r\n\t\t\t.json({ status: false, message: \"Invalid email or password\" });\r\n\tconst isPasswordValid = await verify(user.password, password);\r\n\tif (!isPasswordValid)\r\n\t\treturn res\r\n\t\t\t.status(401)\r\n\t\t\t.json({ status: false, message: \"Invalid email or password\" });\r\n\r\n\tconst { _id, username, role } = user;\r\n\tconst token = signToken(\r\n\t\tJSON.stringify({ _id, username, role, email: user.email })\r\n\t);\r\n\treturn res\r\n\t\t.status(200)\r\n\t\t.json({ status: \"success\", message: \"successfully logged in\", token });\r\n};\r\n\r\nexport const userProfile = (req, res) => {\r\n\tconst bearerToken = req.headers.authorization;\r\n\tconst token = bearerToken.split(\" \")[1];\r\n\tconst payload = decodeToken(token);\r\n\tif (payload)\r\n\t\treturn res.status(200).json({ status: \"success\", data: payload });\r\n\r\n\treturn res.status(401).json({ status: \"fail\", message: \"Not Authorized\" });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7b072b70af571567d608b786b777d02c5abc090a","contentHash":"5b70fb71e946f542a2baf769cf04391641f093c4d3cb384b2762d31d82fb154b"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\user.model.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\user.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":19},"end":{"line":42,"column":2}},"5":{"start":{"line":44,"column":13},"end":{"line":44,"column":56}},"6":{"start":{"line":46,"column":15},"end":{"line":46,"column":19}},"7":{"start":{"line":47,"column":0},"end":{"line":47,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["user.model.js"],"names":["UserSchema","mongoose","Schema","username","type","String","require","firstName","lastName","role","email","required","password","createdAt","Date","default","User","model"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA,MAAMA,UAAU,GAAGC,kBAASC,MAAT,CAAgB;AAClCC,EAAAA,QAAQ,EAAE;AACTC,IAAAA,IAAI,EAAEC,MADG;AAETC,IAAAA,OAAO,EAAE;AAFA,GADwB;AAKlCC,EAAAA,SAAS,EAAE;AACVH,IAAAA,IAAI,EAAEC,MADI;AAEVC,IAAAA,OAAO,EAAE;AAFC,GALuB;AASlCE,EAAAA,QAAQ,EAAE;AACTJ,IAAAA,IAAI,EAAEC,MADG;AAETC,IAAAA,OAAO,EAAE;AAFA,GATwB;AAalCG,EAAAA,IAAI,EAAE;AACLL,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,OAAO,EAAE;AAFJ,GAb4B;AAiBlCI,EAAAA,KAAK,EAAE;AACNN,IAAAA,IAAI,EAAEC,MADA;AAENM,IAAAA,QAAQ,EAAE;AAFJ,GAjB2B;AAqBlCC,EAAAA,QAAQ,EAAE;AACTR,IAAAA,IAAI,EAAEC,MADG;AAETM,IAAAA,QAAQ,EAAE;AAFD,GArBwB;AAyBlCE,EAAAA,SAAS,EAAE;AACVT,IAAAA,IAAI,EAAEU,IADI;AAEVC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAFC;AAzBuB,CAAhB,CAAnB;;AA+BA,MAAME,IAAI,GAAGf,kBAASgB,KAAT,CAAe,MAAf,EAAuBjB,UAAvB,CAAb;;eACegB,I","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\","sourcesContent":["/** @format */\r\n\r\nimport mongoose from \"mongoose\";\r\n\r\nconst UserSchema = mongoose.Schema({\r\n\tusername: {\r\n\t\ttype: String,\r\n\t\trequire: true,\r\n\t},\r\n\tfirstName: {\r\n\t\ttype: String,\r\n\t\trequire: true,\r\n\t},\r\n\tlastName: {\r\n\t\ttype: String,\r\n\t\trequire: true,\r\n\t},\r\n\trole: {\r\n\t\ttype: String,\r\n\t\trequire: true,\r\n\t},\r\n\temail: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tpassword: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tcreatedAt: {\r\n\t\ttype: Date,\r\n\t\tdefault: new Date(),\r\n\t},\r\n});\r\n\r\nconst User = mongoose.model(\"User\", UserSchema);\r\nexport default User;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d9034e5d0b9c89c8f1dc10108ad187b806e67ff8","contentHash":"f1b8c73047c6294e0f40b2db832e1bb2c4850cb18373554429a652c6e045f6b8"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\hash-password.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\hash-password.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}},"2":{"start":{"line":8,"column":13},"end":{"line":8,"column":54}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":13},"end":{"line":15,"column":1}},"5":{"start":{"line":14,"column":2},"end":{"line":14,"column":45}},"6":{"start":{"line":17,"column":0},"end":{"line":17,"column":20}},"7":{"start":{"line":19,"column":15},"end":{"line":21,"column":1}},"8":{"start":{"line":20,"column":2},"end":{"line":20,"column":68}},"9":{"start":{"line":23,"column":0},"end":{"line":23,"column":24}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":13},"end":{"line":13,"column":14}},"loc":{"start":{"line":13,"column":31},"end":{"line":15,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":19,"column":15},"end":{"line":19,"column":16}},"loc":{"start":{"line":19,"column":56},"end":{"line":21,"column":1}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":0,"9":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["hash-password.js"],"names":["hash","password","argon","verify","hashedPassword","plainPassword"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIO,MAAMA,IAAI,GAAG,MAAOC,QAAP,IAAoB;AACvC,SAAO,MAAMC,eAAMF,IAAN,CAAWC,QAAX,CAAb;AACA,CAFM;;;;AAIA,MAAME,MAAM,GAAG,OAAOC,cAAP,EAAuBC,aAAvB,KAAyC;AAC9D,SAAO,MAAMH,eAAMC,MAAN,CAAaC,cAAb,EAA6BC,aAA7B,CAAb;AACA,CAFM","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\middleware\\","sourcesContent":["/** @format */\r\n\r\nimport argon from \"argon2\";\r\n\r\nexport const hash = async (password) => {\r\n\treturn await argon.hash(password);\r\n};\r\n\r\nexport const verify = async (hashedPassword, plainPassword) => {\r\n\treturn await argon.verify(hashedPassword, plainPassword);\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5d99861c9ed46af7397683984b0c57e5d233ecfa","contentHash":"9dcc9ccb19e51af97d671f85851ca2155cdb6ad5230953372af190cd3c4f3451"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\article.route.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\article.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":59}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":52}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":55}},"6":{"start":{"line":16,"column":39},"end":{"line":16,"column":93}},"7":{"start":{"line":19,"column":15},"end":{"line":19,"column":40}},"8":{"start":{"line":21,"column":16},"end":{"line":21,"column":47}},"9":{"start":{"line":23,"column":19},"end":{"line":29,"column":1}},"10":{"start":{"line":24,"column":2},"end":{"line":28,"column":3}},"11":{"start":{"line":25,"column":4},"end":{"line":25,"column":19}},"12":{"start":{"line":27,"column":4},"end":{"line":27,"column":37}},"13":{"start":{"line":31,"column":16},"end":{"line":34,"column":2}},"14":{"start":{"line":35,"column":0},"end":{"line":35,"column":91}},"15":{"start":{"line":36,"column":0},"end":{"line":36,"column":41}},"16":{"start":{"line":37,"column":0},"end":{"line":37,"column":37}},"17":{"start":{"line":38,"column":0},"end":{"line":38,"column":70}},"18":{"start":{"line":39,"column":0},"end":{"line":39,"column":77}},"19":{"start":{"line":40,"column":15},"end":{"line":40,"column":21}},"20":{"start":{"line":41,"column":0},"end":{"line":41,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":16,"column":9},"end":{"line":16,"column":31}},"loc":{"start":{"line":16,"column":37},"end":{"line":16,"column":95}},"line":16},"1":{"name":"(anonymous_1)","decl":{"start":{"line":23,"column":19},"end":{"line":23,"column":20}},"loc":{"start":{"line":23,"column":38},"end":{"line":29,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":92}},"type":"cond-expr","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":73}},{"start":{"line":16,"column":76},"end":{"line":16,"column":92}}],"line":16},"1":{"loc":{"start":{"line":16,"column":46},"end":{"line":16,"column":67}},"type":"binary-expr","locations":[{"start":{"line":16,"column":46},"end":{"line":16,"column":49}},{"start":{"line":16,"column":53},"end":{"line":16,"column":67}}],"line":16},"2":{"loc":{"start":{"line":24,"column":2},"end":{"line":28,"column":3}},"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":28,"column":3}},{"start":{"line":24,"column":2},"end":{"line":28,"column":3}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1},"f":{"0":2,"1":0},"b":{"0":[0,2],"1":[2,2],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["article.route.js"],"names":["router","express","Router","storage","multer","diskStorage","fileFilter","req","file","cb","mimetype","startsWith","uploads","post","checkAdminAuth","single","saveArticle","get","getAllArticles","getById","put","updateArticle","delete","deleteArticleById"],"mappings":";;;;;;;AAEA;;AACA;;AAOA;;AACA;;;;AAXA;AAaA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEA,MAAMC,OAAO,GAAGC,gBAAOC,WAAP,CAAmB,EAAnB,CAAhB;;AACA,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AACrC,MAAID,IAAI,CAACE,QAAL,CAAcC,UAAd,CAAyB,OAAzB,CAAJ,EAAuC;AACtCF,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACA,GAFD,MAEO;AACNA,IAAAA,EAAE,CAAC,qBAAD,EAAwB,KAAxB,CAAF;AACA;AACD,CAND;;AAOA,MAAMG,OAAO,GAAG,qBAAO;AAAET,EAAAA,OAAF;AAAWG,EAAAA;AAAX,CAAP,CAAhB;AAEAN,MAAM,CAACa,IAAP,CAAY,GAAZ,EAAiBC,yBAAjB,EAAiCF,OAAO,CAACG,MAAR,CAAe,OAAf,CAAjC,EAA0DC,oBAA1D;AACAhB,MAAM,CAACiB,GAAP,CAAW,GAAX,EAAgBC,uBAAhB;AACAlB,MAAM,CAACiB,GAAP,CAAW,MAAX,EAAmBE,gBAAnB;AACAnB,MAAM,CAACoB,GAAP,CAAW,MAAX,EAAmBN,yBAAnB,EAAmCO,sBAAnC;AACArB,MAAM,CAACsB,MAAP,CAAc,MAAd,EAAsBR,yBAAtB,EAAsCS,0BAAtC;eAEevB,M","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\","sourcesContent":["/** @format */\r\n\r\nimport express from \"express\";\r\nimport {\r\n\tdeleteArticleById,\r\n\tgetAllArticles,\r\n\tgetById,\r\n\tsaveArticle,\r\n\tupdateArticle,\r\n} from \"../controllers/article.controller\";\r\nimport { checkAdminAuth } from \"../middleware/check-auth\";\r\nimport multer from \"multer\";\r\n\r\nconst router = express.Router();\r\n\r\nconst storage = multer.diskStorage({});\r\nconst fileFilter = (req, file, cb) => {\r\n\tif (file.mimetype.startsWith(\"image\")) {\r\n\t\tcb(null, true);\r\n\t} else {\r\n\t\tcb(\"invalid image file!\", false);\r\n\t}\r\n};\r\nconst uploads = multer({ storage, fileFilter });\r\n\r\nrouter.post(\"/\", checkAdminAuth, uploads.single(\"image\"), saveArticle);\r\nrouter.get(\"/\", getAllArticles);\r\nrouter.get(\"/:id\", getById);\r\nrouter.put(\"/:id\", checkAdminAuth, updateArticle);\r\nrouter.delete(\"/:id\", checkAdminAuth, deleteArticleById);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"91ff45685e6625d97252154dd4775e023cdbe197","contentHash":"0a1cbe3c63e8ecab6cc136cec72e56a208a26352632f567e231929b14c909f54"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\article.controller.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\article.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":124}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":75}},"3":{"start":{"line":10,"column":18},"end":{"line":10,"column":50}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":43}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":17,"column":20},"end":{"line":45,"column":1}},"7":{"start":{"line":20,"column":6},"end":{"line":20,"column":45}},"8":{"start":{"line":21,"column":2},"end":{"line":23,"column":5}},"9":{"start":{"line":21,"column":13},"end":{"line":23,"column":5}},"10":{"start":{"line":25,"column":2},"end":{"line":29,"column":3}},"11":{"start":{"line":26,"column":4},"end":{"line":26,"column":60}},"12":{"start":{"line":28,"column":4},"end":{"line":28,"column":129}},"13":{"start":{"line":31,"column":18},"end":{"line":38,"column":3}},"14":{"start":{"line":39,"column":21},"end":{"line":39,"column":50}},"15":{"start":{"line":40,"column":2},"end":{"line":40,"column":26}},"16":{"start":{"line":41,"column":2},"end":{"line":44,"column":5}},"17":{"start":{"line":47,"column":0},"end":{"line":47,"column":34}},"18":{"start":{"line":49,"column":23},"end":{"line":55,"column":1}},"19":{"start":{"line":50,"column":19},"end":{"line":50,"column":48}},"20":{"start":{"line":51,"column":2},"end":{"line":54,"column":5}},"21":{"start":{"line":57,"column":0},"end":{"line":57,"column":40}},"22":{"start":{"line":59,"column":16},"end":{"line":72,"column":1}},"23":{"start":{"line":62,"column":6},"end":{"line":62,"column":16}},"24":{"start":{"line":63,"column":18},"end":{"line":63,"column":53}},"25":{"start":{"line":64,"column":2},"end":{"line":67,"column":5}},"26":{"start":{"line":64,"column":16},"end":{"line":67,"column":5}},"27":{"start":{"line":68,"column":2},"end":{"line":71,"column":5}},"28":{"start":{"line":74,"column":0},"end":{"line":74,"column":26}},"29":{"start":{"line":76,"column":22},"end":{"line":97,"column":1}},"30":{"start":{"line":79,"column":6},"end":{"line":79,"column":16}},"31":{"start":{"line":82,"column":6},"end":{"line":82,"column":45}},"32":{"start":{"line":83,"column":2},"end":{"line":85,"column":5}},"33":{"start":{"line":83,"column":13},"end":{"line":85,"column":5}},"34":{"start":{"line":86,"column":18},"end":{"line":86,"column":26}},"35":{"start":{"line":87,"column":18},"end":{"line":87,"column":53}},"36":{"start":{"line":88,"column":2},"end":{"line":91,"column":5}},"37":{"start":{"line":88,"column":16},"end":{"line":91,"column":5}},"38":{"start":{"line":92,"column":2},"end":{"line":92,"column":56}},"39":{"start":{"line":93,"column":2},"end":{"line":96,"column":5}},"40":{"start":{"line":99,"column":0},"end":{"line":99,"column":38}},"41":{"start":{"line":101,"column":26},"end":{"line":116,"column":1}},"42":{"start":{"line":104,"column":6},"end":{"line":104,"column":16}},"43":{"start":{"line":105,"column":18},"end":{"line":105,"column":53}},"44":{"start":{"line":106,"column":2},"end":{"line":109,"column":5}},"45":{"start":{"line":106,"column":16},"end":{"line":109,"column":5}},"46":{"start":{"line":110,"column":2},"end":{"line":110,"column":47}},"47":{"start":{"line":111,"column":2},"end":{"line":115,"column":5}},"48":{"start":{"line":118,"column":0},"end":{"line":118,"column":46}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":20},"end":{"line":17,"column":21}},"loc":{"start":{"line":17,"column":46},"end":{"line":45,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":49,"column":23},"end":{"line":49,"column":24}},"loc":{"start":{"line":49,"column":43},"end":{"line":55,"column":1}},"line":49},"3":{"name":"(anonymous_3)","decl":{"start":{"line":59,"column":16},"end":{"line":59,"column":17}},"loc":{"start":{"line":59,"column":36},"end":{"line":72,"column":1}},"line":59},"4":{"name":"(anonymous_4)","decl":{"start":{"line":76,"column":22},"end":{"line":76,"column":23}},"loc":{"start":{"line":76,"column":42},"end":{"line":97,"column":1}},"line":76},"5":{"name":"(anonymous_5)","decl":{"start":{"line":101,"column":26},"end":{"line":101,"column":27}},"loc":{"start":{"line":101,"column":46},"end":{"line":116,"column":1}},"line":101}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":21,"column":2},"end":{"line":23,"column":5}},"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":23,"column":5}},{"start":{"line":21,"column":2},"end":{"line":23,"column":5}}],"line":21},"3":{"loc":{"start":{"line":25,"column":2},"end":{"line":29,"column":3}},"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":29,"column":3}},{"start":{"line":25,"column":2},"end":{"line":29,"column":3}}],"line":25},"4":{"loc":{"start":{"line":64,"column":2},"end":{"line":67,"column":5}},"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":67,"column":5}},{"start":{"line":64,"column":2},"end":{"line":67,"column":5}}],"line":64},"5":{"loc":{"start":{"line":83,"column":2},"end":{"line":85,"column":5}},"type":"if","locations":[{"start":{"line":83,"column":2},"end":{"line":85,"column":5}},{"start":{"line":83,"column":2},"end":{"line":85,"column":5}}],"line":83},"6":{"loc":{"start":{"line":88,"column":2},"end":{"line":91,"column":5}},"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":91,"column":5}},{"start":{"line":88,"column":2},"end":{"line":91,"column":5}}],"line":88},"7":{"loc":{"start":{"line":106,"column":2},"end":{"line":109,"column":5}},"type":"if","locations":[{"start":{"line":106,"column":2},"end":{"line":109,"column":5}},{"start":{"line":106,"column":2},"end":{"line":109,"column":5}}],"line":106}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":0,"20":0,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"sources":["article.controller.js"],"names":["saveArticle","req","res","next","error","body","status","json","message","details","file","image","article","cover","title","slug","content","author","newArticle","Article","save","success","data","getAllArticles","articles","find","getById","id","params","findById","updateArticle","updates","findByIdAndUpdate","deleteArticleById","findByIdAndDelete","Null"],"mappings":"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","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\","sourcesContent":["/** @format */\r\n\r\nimport Article from \"../db/model/article.model\";\r\nimport { fileUpload } from \"../helpers/fileUpload\";\r\nimport { articleValidation } from \"../validation/index\";\r\n\r\nexport const saveArticle = async (req, res, next) => {\r\n\tconst { error } = articleValidation(req.body);\r\n\tif (error) return res.status(400).json({ message: error.details[0].message });\r\n\tif (req.file) {\r\n\t\treq.body.image = await fileUpload(req);\r\n\t} else {\r\n\t\treq.body.image =\r\n\t\t\t\"https://images.pexels.com/photos/1072179/pexels-photo-1072179.jpeg?auto=compress&cs=tinysrgb&h=750&w=1260\";\r\n\t}\r\n\tconst article = {\r\n\t\tcover: req.body.image,\r\n\t\ttitle: req.body.title,\r\n\t\tslug: req.body.content,\r\n\t\tauthor: req.body.author,\r\n\t\tcontent: req.body.author,\r\n\t\tstatus: false,\r\n\t};\r\n\tconst newArticle = new Article(article);\r\n\tawait newArticle.save();\r\n\tres.status(201).json({ success: true, data: newArticle });\r\n};\r\n\r\nexport const getAllArticles = async (req, res) => {\r\n\tconst articles = await Article.find();\r\n\tres.status(200).json({ success: true, data: articles });\r\n};\r\n\r\nexport const getById = async (req, res) => {\r\n\tconst { id } = req.params;\r\n\tconst article = await Article.findById(id);\r\n\tif (!article)\r\n\t\treturn res\r\n\t\t\t.status(404)\r\n\t\t\t.json({ success: false, message: \"Article not found\" });\r\n\tres.status(200).json({ success: true, data: article });\r\n};\r\n\r\nexport const updateArticle = async (req, res) => {\r\n\tconst { id } = req.params;\r\n\r\n\tconst { error } = articleValidation(req.body);\r\n\tif (error) return res.status(400).json({ message: error.details[0].message });\r\n\r\n\tconst updates = req.body;\r\n\tconst article = await Article.findById(id);\r\n\tif (!article)\r\n\t\treturn res\r\n\t\t\t.status(404)\r\n\t\t\t.json({ success: false, message: \"Article not found\" });\r\n\tawait Article.findByIdAndUpdate(id, updates);\r\n\tres\r\n\t\t.status(201)\r\n\t\t.json({ success: true, message: \"Article updated successfully\" });\r\n};\r\n\r\nexport const deleteArticleById = async (req, res) => {\r\n\tconst { id } = req.params;\r\n\tconst article = await Article.findById(id);\r\n\tif (!article)\r\n\t\treturn res\r\n\t\t\t.status(404)\r\n\t\t\t.json({ success: false, message: \"Article not found\" });\r\n\tawait Article.findByIdAndDelete(id);\r\n\tres\r\n\t\t.status(200)\r\n\t\t.json({ success: true, message: \"Article deleted\", data: Null });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b57a1d5a3c7c8bdc5e757d5a6b2d9b6ba100038e","contentHash":"ca8c31ef13d53e8a6fc1131e071db000184dd4b295f5cf3abfa0092a83205cd7"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\article.model.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\article.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":22},"end":{"line":41,"column":2}},"5":{"start":{"line":43,"column":16},"end":{"line":43,"column":65}},"6":{"start":{"line":45,"column":15},"end":{"line":45,"column":22}},"7":{"start":{"line":46,"column":0},"end":{"line":46,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["article.model.js"],"names":["ArticleSchema","mongoose","Schema","title","type","String","required","slug","author","content","cover","createdAt","Date","default","comments","Types","ObjectId","ref","Article","model"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACzCC,EAAAA,KAAK,EAAE;AACNC,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GADkC;AAKzCC,EAAAA,IAAI,EAAE;AACLH,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GALmC;AASzCE,EAAAA,MAAM,EAAE;AACPJ,IAAAA,IAAI,EAAEC,MADC;AAEPC,IAAAA,QAAQ,EAAE;AAFH,GATiC;AAazCG,EAAAA,OAAO,EAAE;AACRL,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GAbgC;AAiBzCI,EAAAA,KAAK,EAAE;AACNN,IAAAA,IAAI,EAAEC;AADA,GAjBkC;AAoBzCM,EAAAA,SAAS,EAAE;AACVP,IAAAA,IAAI,EAAEQ,IADI;AAEVC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAFC,GApB8B;AAwBzCE,EAAAA,QAAQ,EAAE,CACT;AACCV,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBa,KAAhB,CAAsBC,QAD7B;AAECC,IAAAA,GAAG,EAAE;AAFN,GADS;AAxB+B,CAApB,CAAtB;;AA+BA,MAAMC,OAAO,GAAGjB,kBAASkB,KAAT,CAAe,SAAf,EAA0BnB,aAA1B,CAAhB;;eACekB,O","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\","sourcesContent":["/** @format */\r\n\r\nimport mongoose from \"mongoose\";\r\n\r\nconst ArticleSchema = new mongoose.Schema({\r\n\ttitle: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tslug: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tauthor: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tcontent: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tcover: {\r\n\t\ttype: String,\r\n\t},\r\n\tcreatedAt: {\r\n\t\ttype: Date,\r\n\t\tdefault: new Date(),\r\n\t},\r\n\tcomments: [\r\n\t\t{\r\n\t\t\ttype: mongoose.Schema.Types.ObjectId,\r\n\t\t\tref: \"Comment\",\r\n\t\t},\r\n\t],\r\n});\r\nconst Article = mongoose.model(\"Article\", ArticleSchema);\r\nexport default Article;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5b9514444eaedd511e7a5988a830e8fcca965cfa","contentHash":"049bd8d49c61beb78a8a34bb0803e5684b8930685e07b0d5162fe0eb23c4bf96"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\helpers\\fileUpload.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\helpers\\fileUpload.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":19},"end":{"line":8,"column":70}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":19},"end":{"line":23,"column":1}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":19}},"6":{"start":{"line":15,"column":2},"end":{"line":21,"column":5}},"7":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"8":{"start":{"line":17,"column":6},"end":{"line":17,"column":23}},"9":{"start":{"line":20,"column":4},"end":{"line":20,"column":25}},"10":{"start":{"line":22,"column":2},"end":{"line":22,"column":18}},"11":{"start":{"line":25,"column":0},"end":{"line":25,"column":32}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":19},"end":{"line":13,"column":20}},"loc":{"start":{"line":13,"column":32},"end":{"line":23,"column":1}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":63},"end":{"line":15,"column":64}},"loc":{"start":{"line":15,"column":91},"end":{"line":21,"column":3}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10},"2":{"loc":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},{"start":{"line":16,"column":4},"end":{"line":18,"column":5}}],"line":16}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1,0],"1":[1,1],"2":[0,0]},"inputSourceMap":{"version":3,"sources":["fileUpload.js"],"names":["fileUpload","req","imageUrl","cloudinary","v2","uploader","upload","file","path","err","image","console","log","url"],"mappings":";;;;;;;AAEA;;;;AAFA;AAGO,MAAMA,UAAU,GAAG,MAAOC,GAAP,IAAe;AACxC,MAAIC,QAAQ,GAAG,EAAf;AACA,QAAMC,qBAAWC,EAAX,CAAcC,QAAd,CAAuBC,MAAvB,CACLL,GAAG,CAACM,IAAJ,CAASC,IADJ,EAEL,gBAAgBC,GAAhB,EAAqBC,KAArB,EAA4B;AAC3B,QAAID,GAAJ,EAAS;AACRE,MAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACA;;AACDP,IAAAA,QAAQ,GAAGQ,KAAK,CAACG,GAAjB;AACA,GAPI,CAAN;AASA,SAAOX,QAAP;AACA,CAZM","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\helpers\\","sourcesContent":["/** @format */\r\n\r\nimport cloudinary from \"./imageUpload.js\";\r\nexport const fileUpload = async (req) => {\r\n\tlet imageUrl = \"\";\r\n\tawait cloudinary.v2.uploader.upload(\r\n\t\treq.file.path,\r\n\t\tasync function (err, image) {\r\n\t\t\tif (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t\timageUrl = image.url;\r\n\t\t}\r\n\t);\r\n\treturn imageUrl;\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4098a0cbcdac7a3350c8833727604c76845cd6a0","contentHash":"1693591489f42bc7687dbaac1ff6ac23c2ecf0168296438f624e0b0067f70d91"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\helpers\\imageUpload.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\helpers\\imageUpload.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":63}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"4":{"start":{"line":12,"column":39},"end":{"line":12,"column":93}},"5":{"start":{"line":15,"column":0},"end":{"line":19,"column":3}},"6":{"start":{"line":21,"column":15},"end":{"line":21,"column":34}},"7":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":12,"column":9},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":37},"end":{"line":12,"column":95}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":92}},"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":92}}],"line":12},"1":{"loc":{"start":{"line":12,"column":46},"end":{"line":12,"column":67}},"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["imageUpload.js"],"names":["cloudinary","config","cloud_name","process","env","CLOUDINARY_USER_NAME","api_key","CLOUDINARY_API_KEY","api_secret","CLOUDINARY_API_SECRET"],"mappings":";;;;;;;AAEA;;AACA;;;;AAHA;AAIAA,oBAAWC,MAAX,CAAkB;AACjBC,EAAAA,UAAU,EAAEC,OAAO,CAACC,GAAR,CAAYC,oBADP;AAEjBC,EAAAA,OAAO,EAAEH,OAAO,CAACC,GAAR,CAAYG,kBAFJ;AAGjBC,EAAAA,UAAU,EAAEL,OAAO,CAACC,GAAR,CAAYK;AAHP,CAAlB;;eAMeT,mB","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\helpers\\","sourcesContent":["/** @format */\r\n\r\nimport cloudinary from \"cloudinary\";\r\nimport \"dotenv/config\";\r\ncloudinary.config({\r\n\tcloud_name: process.env.CLOUDINARY_USER_NAME,\r\n\tapi_key: process.env.CLOUDINARY_API_KEY,\r\n\tapi_secret: process.env.CLOUDINARY_API_SECRET,\r\n});\r\n\r\nexport default cloudinary;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8fee5861b2b4a225da06fff7ca17eec41e56f9ca","contentHash":"8bca9f0e1d79b2be6aee31517154dd7bc84f8adf8256b304f6ed5cdc1efa26ac"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\comment.route.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\comment.route.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":59}},"4":{"start":{"line":12,"column":17},"end":{"line":12,"column":52}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":17,"column":15},"end":{"line":17,"column":40}},"7":{"start":{"line":19,"column":0},"end":{"line":19,"column":50}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":52}},"9":{"start":{"line":21,"column":0},"end":{"line":21,"column":73}},"10":{"start":{"line":22,"column":15},"end":{"line":22,"column":21}},"11":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["comment.route.js"],"names":["router","express","Router","post","saveComment","get","getAllComments","delete","checkAdminAuth","deleteComment"],"mappings":";;;;;;;AAEA;;AACA;;AAMA;;;;AATA;AAWA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,cAAZ,EAA4BC,oBAA5B;AACAJ,MAAM,CAACK,GAAP,CAAW,cAAX,EAA2BC,uBAA3B;AACAN,MAAM,CAACO,MAAP,CAAc,MAAd,EAAsBC,yBAAtB,EAAsCC,sBAAtC;eAEeT,M","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\routes\\","sourcesContent":["/** @format */\r\n\r\nimport express from \"express\";\r\nimport {\r\n\tsaveComment,\r\n\tgetAllComments,\r\n\tdeleteComment,\r\n} from \"../controllers/comment.controller\";\r\n\r\nimport { checkAdminAuth } from \"../middleware/check-auth\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/:id/comment\", saveComment);\r\nrouter.get(\"/:id/comment\", getAllComments);\r\nrouter.delete(\"/:id\", checkAdminAuth, deleteComment);\r\n\r\nexport default router;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8e737cef153c356c0084b40073b66f999e3f7986","contentHash":"bc87c167ae3c10f1b73ed038c9cdda433b91699bd12315f39e2601542e9eacf7"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\comment.controller.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\comment.controller.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":78}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":75}},"3":{"start":{"line":10,"column":15},"end":{"line":10,"column":75}},"4":{"start":{"line":12,"column":13},"end":{"line":12,"column":43}},"5":{"start":{"line":14,"column":39},"end":{"line":14,"column":93}},"6":{"start":{"line":17,"column":20},"end":{"line":39,"column":1}},"7":{"start":{"line":18,"column":20},"end":{"line":18,"column":33}},"8":{"start":{"line":21,"column":6},"end":{"line":21,"column":45}},"9":{"start":{"line":22,"column":2},"end":{"line":24,"column":5}},"10":{"start":{"line":22,"column":13},"end":{"line":24,"column":5}},"11":{"start":{"line":25,"column":21},"end":{"line":30,"column":4}},"12":{"start":{"line":31,"column":22},"end":{"line":31,"column":64}},"13":{"start":{"line":32,"column":2},"end":{"line":32,"column":40}},"14":{"start":{"line":33,"column":2},"end":{"line":38,"column":5}},"15":{"start":{"line":34,"column":4},"end":{"line":37,"column":7}},"16":{"start":{"line":41,"column":0},"end":{"line":41,"column":34}},"17":{"start":{"line":43,"column":23},"end":{"line":50,"column":1}},"18":{"start":{"line":44,"column":20},"end":{"line":44,"column":33}},"19":{"start":{"line":45,"column":21},"end":{"line":45,"column":84}},"20":{"start":{"line":46,"column":2},"end":{"line":49,"column":5}},"21":{"start":{"line":52,"column":0},"end":{"line":52,"column":40}},"22":{"start":{"line":54,"column":22},"end":{"line":69,"column":1}},"23":{"start":{"line":57,"column":6},"end":{"line":57,"column":16}},"24":{"start":{"line":58,"column":18},"end":{"line":58,"column":53}},"25":{"start":{"line":59,"column":2},"end":{"line":62,"column":5}},"26":{"start":{"line":59,"column":16},"end":{"line":62,"column":5}},"27":{"start":{"line":63,"column":2},"end":{"line":63,"column":47}},"28":{"start":{"line":64,"column":2},"end":{"line":68,"column":5}},"29":{"start":{"line":71,"column":0},"end":{"line":71,"column":38}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":95}},"line":14},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":20},"end":{"line":17,"column":21}},"loc":{"start":{"line":17,"column":40},"end":{"line":39,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":33,"column":25},"end":{"line":33,"column":26}},"loc":{"start":{"line":33,"column":42},"end":{"line":38,"column":3}},"line":33},"3":{"name":"(anonymous_3)","decl":{"start":{"line":43,"column":23},"end":{"line":43,"column":24}},"loc":{"start":{"line":43,"column":43},"end":{"line":50,"column":1}},"line":43},"4":{"name":"(anonymous_4)","decl":{"start":{"line":54,"column":22},"end":{"line":54,"column":23}},"loc":{"start":{"line":54,"column":42},"end":{"line":69,"column":1}},"line":54}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":92}},"type":"cond-expr","locations":[{"start":{"line":14,"column":70},"end":{"line":14,"column":73}},{"start":{"line":14,"column":76},"end":{"line":14,"column":92}}],"line":14},"1":{"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":67}},"type":"binary-expr","locations":[{"start":{"line":14,"column":46},"end":{"line":14,"column":49}},{"start":{"line":14,"column":53},"end":{"line":14,"column":67}}],"line":14},"2":{"loc":{"start":{"line":22,"column":2},"end":{"line":24,"column":5}},"type":"if","locations":[{"start":{"line":22,"column":2},"end":{"line":24,"column":5}},{"start":{"line":22,"column":2},"end":{"line":24,"column":5}}],"line":22},"3":{"loc":{"start":{"line":59,"column":2},"end":{"line":62,"column":5}},"type":"if","locations":[{"start":{"line":59,"column":2},"end":{"line":62,"column":5}},{"start":{"line":59,"column":2},"end":{"line":62,"column":5}}],"line":59}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":1,"18":0,"19":0,"20":0,"21":1,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1},"f":{"0":2,"1":0,"2":0,"3":0,"4":0},"b":{"0":[2,0],"1":[2,2],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"sources":["comment.controller.js"],"names":["saveComment","req","res","articleId","params","id","error","body","status","json","message","details","newComment","Comment","create","name","email","content","blogPost","articlePost","Article","findById","comments","push","save","data","getAllComments","getComment","populate","deleteComment","comment","findByIdAndDelete"],"mappings":";;;;;;;AAEA;;AACA;;AACA;;;;AAJA;AAMO,MAAMA,WAAW,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC9C,QAAMC,SAAS,GAAGF,GAAG,CAACG,MAAJ,CAAWC,EAA7B;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAY,8BAAkBL,GAAG,CAACM,IAAtB,CAAlB;AACA,MAAID,KAAJ,EAAW,OAAOJ,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd,EAAiBD;AAA5B,GAArB,CAAP;AAEX,QAAME,UAAU,GAAG,MAAMC,iBAAQC,MAAR,CAAe;AACvCC,IAAAA,IAAI,EAAEd,GAAG,CAACM,IAAJ,CAASQ,IADwB;AAEvCC,IAAAA,KAAK,EAAEf,GAAG,CAACM,IAAJ,CAASS,KAFuB;AAGvCC,IAAAA,OAAO,EAAEhB,GAAG,CAACM,IAAJ,CAASU,OAHqB;AAIvCC,IAAAA,QAAQ,EAAEf;AAJ6B,GAAf,CAAzB;AAMA,QAAMgB,WAAW,GAAG,MAAMC,iBAAQC,QAAR,CAAiBlB,SAAjB,CAA1B;AACAgB,EAAAA,WAAW,CAACG,QAAZ,CAAqBC,IAArB,CAA0BX,UAA1B;AACA,QAAMO,WAAW,CAACK,IAAZ,CAAiB,UAAUlB,KAAV,EAAiB;AACvCJ,IAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,MAAAA,MAAM,EAAE,SAAV;AAAqBiB,MAAAA,IAAI,EAAEb;AAA3B,KAArB;AACA,GAFK,CAAN;AAGA,CAhBM;;;;AAkBA,MAAMc,cAAc,GAAG,OAAOzB,GAAP,EAAYC,GAAZ,KAAoB;AACjD,QAAMC,SAAS,GAAGF,GAAG,CAACG,MAAJ,CAAWC,EAA7B;AACA,QAAMsB,UAAU,GAAG,MAAMP,iBAAQC,QAAR,CAAiBlB,SAAjB,EAA4ByB,QAA5B,CAAqC,UAArC,CAAzB;AACA1B,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBiB,IAAAA,IAAI,EAAEE,UAAU,CAACL;AAAtC,GAArB;AACA,CAJM;;;;AAMA,MAAMO,aAAa,GAAG,OAAO5B,GAAP,EAAYC,GAAZ,KAAoB;AAChD,QAAM;AAAEG,IAAAA;AAAF,MAASJ,GAAG,CAACG,MAAnB;AACA,QAAM0B,OAAO,GAAG,MAAMjB,iBAAQQ,QAAR,CAAiBhB,EAAjB,CAAtB;AACA,MAAI,CAACyB,OAAL,EACC,OAAO5B,GAAG,CACRM,MADK,CACE,GADF,EAELC,IAFK,CAEA;AAAED,IAAAA,MAAM,EAAE,KAAV;AAAiBE,IAAAA,OAAO,EAAE;AAA1B,GAFA,CAAP;AAGD,QAAMG,iBAAQkB,iBAAR,CAA0B1B,EAA1B,CAAN;AACAH,EAAAA,GAAG,CACDM,MADF,CACS,GADT,EAEEC,IAFF,CAEO;AAAED,IAAAA,MAAM,EAAE,SAAV;AAAqBE,IAAAA,OAAO,EAAE,iBAA9B;AAAiDe,IAAAA,IAAI,EAAEK;AAAvD,GAFP;AAGA,CAXM","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\controllers\\","sourcesContent":["/** @format */\r\n\r\nimport Comment from \"../db/model/comment.model\";\r\nimport Article from \"../db/model/article.model\";\r\nimport { commentValidation } from \"../validation/index\";\r\n\r\nexport const saveComment = async (req, res) => {\r\n\tconst articleId = req.params.id;\r\n\tconst { error } = commentValidation(req.body);\r\n\tif (error) return res.status(400).json({ message: error.details[0].message });\r\n\r\n\tconst newComment = await Comment.create({\r\n\t\tname: req.body.name,\r\n\t\temail: req.body.email,\r\n\t\tcontent: req.body.content,\r\n\t\tblogPost: articleId,\r\n\t});\r\n\tconst articlePost = await Article.findById(articleId);\r\n\tarticlePost.comments.push(newComment);\r\n\tawait articlePost.save(function (error) {\r\n\t\tres.status(201).json({ status: \"success\", data: newComment });\r\n\t});\r\n};\r\n\r\nexport const getAllComments = async (req, res) => {\r\n\tconst articleId = req.params.id;\r\n\tconst getComment = await Article.findById(articleId).populate(\"comments\");\r\n\tres.status(200).json({ status: \"success\", data: getComment.comments });\r\n};\r\n\r\nexport const deleteComment = async (req, res) => {\r\n\tconst { id } = req.params;\r\n\tconst comment = await Comment.findById(id);\r\n\tif (!comment)\r\n\t\treturn res\r\n\t\t\t.status(204)\r\n\t\t\t.json({ status: false, message: \"Comment not found\" });\r\n\tawait Comment.findByIdAndDelete(id);\r\n\tres\r\n\t\t.status(201)\r\n\t\t.json({ status: \"success\", message: \"Comment deleted\", data: comment });\r\n};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c3a17ecc6d146aed532bc28606e18e6f0d760e00","contentHash":"cdb991f1b02270c5be77967dabf6b9913a9d9db3eb93fd26db4fc4911dbb1ea8"},"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\comment.model.js":{"path":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\comment.model.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":8,"column":16},"end":{"line":8,"column":59}},"3":{"start":{"line":10,"column":39},"end":{"line":10,"column":93}},"4":{"start":{"line":13,"column":22},"end":{"line":34,"column":2}},"5":{"start":{"line":36,"column":16},"end":{"line":36,"column":65}},"6":{"start":{"line":38,"column":15},"end":{"line":38,"column":22}},"7":{"start":{"line":39,"column":0},"end":{"line":39,"column":27}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":31}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":95}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":92}},"type":"cond-expr","locations":[{"start":{"line":10,"column":70},"end":{"line":10,"column":73}},{"start":{"line":10,"column":76},"end":{"line":10,"column":92}}],"line":10},"1":{"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":67}},"type":"binary-expr","locations":[{"start":{"line":10,"column":46},"end":{"line":10,"column":49}},{"start":{"line":10,"column":53},"end":{"line":10,"column":67}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[0,1],"1":[1,1]},"inputSourceMap":{"version":3,"sources":["comment.model.js"],"names":["CommentSchema","mongoose","Schema","name","type","String","required","email","content","createdAt","Date","default","articlePost","Types","ObjectId","ref","Comment","model"],"mappings":";;;;;;;AAEA;;;;AAFA;AAIA,MAAMA,aAAa,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACzCC,EAAAA,IAAI,EAAE;AACLC,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GADmC;AAKzCC,EAAAA,KAAK,EAAE;AACNH,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAO,iBAAP;AAFJ,GALkC;AASzCE,EAAAA,OAAO,EAAE;AACRJ,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF,GATgC;AAazCG,EAAAA,SAAS,EAAE;AACVL,IAAAA,IAAI,EAAEM,IADI;AAEVC,IAAAA,OAAO,EAAE,IAAID,IAAJ;AAFC,GAb8B;AAiBzCE,EAAAA,WAAW,EAAE;AACZR,IAAAA,IAAI,EAAEH,kBAASC,MAAT,CAAgBW,KAAhB,CAAsBC,QADhB;AAEZC,IAAAA,GAAG,EAAE;AAFO;AAjB4B,CAApB,CAAtB;;AAsBA,MAAMC,OAAO,GAAGf,kBAASgB,KAAT,CAAe,SAAf,EAA0BjB,aAA1B,CAAhB;;eACegB,O","sourceRoot":"D:\\Andela TLP 7\\ATLP Capstone Project\\ATLP-Backend\\src\\db\\model\\","sourcesContent":["/** @format */\r\n\r\nimport mongoose from \"mongoose\";\r\n\r\nconst CommentSchema = new mongoose.Schema({\r\n\tname: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\temail: {\r\n\t\ttype: String,\r\n\t\trequired: [true, \"Why not email ?\"],\r\n\t},\r\n\tcontent: {\r\n\t\ttype: String,\r\n\t\trequired: true,\r\n\t},\r\n\tcreatedAt: {\r\n\t\ttype: Date,\r\n\t\tdefault: new Date(),\r\n\t},\r\n\tarticlePost: {\r\n\t\ttype: mongoose.Schema.Types.ObjectId,\r\n\t\tref: \"Article\",\r\n\t},\r\n});\r\nconst Comment = mongoose.model(\"Comment\", CommentSchema);\r\nexport default Comment;\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"72a29b265a9de5d05f20fab39342b440772eed02","contentHash":"a3602e0c5ab4a92b354f04611244ba99d2c0660e47a2f015a35fbb5dc31b3069"}}